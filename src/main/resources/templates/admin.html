<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Page</title>
  </head>
  <body>
    <table>
      <tbody id="studentRows"></tbody>
    </table>
    <script>
      const studentRows = document.getElementById('studentRows')

      fetch('/api/v1/student/get')
        .then((res) => res.json())
        .then((students) =>
          students.map(studentToRow).forEach((row) => studentRows.append(row)),
        )

      function studentToRow(student) {
        const row = document.createElement('tr')
        row.id = student.id
        row.className = 'student-row'
        const cols = Object.values(student)
          .map(String)
          .map((value) => {
            const col = document.createElement('td')
            col.textContent = value
            return col
          })
        row.append(...cols)
        return row
      }
    </script>
  </body>
</html>
